<div>
    <!--<div ng-if="isLoading">
        <span id="loadingMessage">Loading...</span>
    </div>-->
    <div class="cssload-container" ng-if="isLoading">
        <div class="cssload-whirlpool"></div>
    </div>
    <div ng-if="!isLoading">
        <div id="timerContainer" data-ng-init="startTimer()">
            <span id="timer" ng-style="myStyle">{{time}}</span>
        </div>
        <nav id="quizNav">
            <table>
                <tr>
                    <td ng-class="{navQuestionsActive: $index == currentQuestion, navQuestions: $index != currentQuestion}" ng-repeat="question in quizQuestions" ng-click="setCurrentQuestion($index, currentQuestion, quizQuestions[currentQuestion].Id, quizQuestions[currentQuestion].IsAutomatic, quizQuestions[currentQuestion].QuizBlock, quizQuestions[currentQuestion].QuestionOrder, passedQuiz.UserAnswers[currentQuestion].AnswerText)">{{$index + 1}}</td>
                    <!--<td class="emptyTdInQuestNav" ng-repeat-end="">--------</td>-->
                </tr>
                <tr>
                    <td ng-repeat="question in quizQuestions">Q{{$index + 1}}</td>
                </tr>
            </table>
        </nav>

        <div id="questAndAnswer">
            <ul>
                <li>
                    <h2>{{quizQuestions[currentQuestion].Text}}</h2>
                </li>
                <li ng-repeat="answer in quizQuestions[currentQuestion].Answers" ng-if="quizQuestions[currentQuestion].IsAutomatic">
                    <label>
                        <input type="radio" ng-model="passedQuiz.UserAnswers[currentQuestion].AnswerId" name="answersGroup" value="{{answer.Id}}" ng-click="setUserChoice(currentQuestion, quizQuestions[currentQuestion].Id, answer.Id, quizQuestions[currentQuestion].IsAutomatic, quizQuestions[currentQuestion].QuizBlock, quizQuestions[currentQuestion].QuestionOrder)"> {{answer.Text}}
                    </label>
                </li>
            </ul>
            <textarea rows="{{windowHeight * 20 | number}}" ng-if="!quizQuestions[currentQuestion].IsAutomatic" id="fieldForText" ng-model="passedQuiz.UserAnswers[currentQuestion].AnswerText"></textarea>
        </div>
    </div>

    <footer id="quizButtons" ng-if="!isLoading">
        <table>
            <tr>
                <td>
                    <input type="button" value="&laquo Q{{currentQuestion > 0 ? currentQuestion: currentQuestion + 1}}" ng-click="setCurrentQuestion(currentQuestion - 1, currentQuestion, quizQuestions[currentQuestion].Id, quizQuestions[currentQuestion].IsAutomatic, quizQuestions[currentQuestion].QuizBlock, quizQuestions[currentQuestion].QuestionOrder, passedQuiz.UserAnswers[currentQuestion].AnswerText);">
                </td>
                <td class="empty"></td>
                <td>
                    <input type="button" value="Q{{currentQuestion < quizQuestions.length - 1 ? currentQuestion + 2 : currentQuestion + 1}} &raquo" ng-click="setCurrentQuestion(currentQuestion + 1, currentQuestion, quizQuestions[currentQuestion].Id, quizQuestions[currentQuestion].IsAutomatic, quizQuestions[currentQuestion].QuizBlock, quizQuestions[currentQuestion].QuestionOrder, passedQuiz.UserAnswers[currentQuestion].AnswerText)">
                </td>
                <td class="empty"></td>
                <td>
                    <input type="button" value="Finish" ng-click="finishQuiz(currentQuestion, quizQuestions[currentQuestion].Id, quizQuestions[currentQuestion].IsAutomatic, quizQuestions[currentQuestion].QuizBlock, quizQuestions[currentQuestion].QuestionOrder, passedQuiz.UserAnswers[currentQuestion].AnswerText);">
                </td>
                <td class="empty"></td>
            </tr>
        </table>
    </footer>
</div>

